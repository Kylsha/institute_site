<html>
<head>
  <meta charset=utf-8>
  <title>Наш сайт</title>
  <!-- <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script> -->

  <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" /> -->
  <!-- <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script> -->
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css"> -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script> -->
  <!-- <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
  <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script> -->
  <!-- <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script> -->
  <!-- <script type="text/javascript" src="https://raw.githubusercontent.com/w8r/leaflet-area-select/master/src/Map.SelectArea.js"></script> -->
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.css"/> -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.js"></script> -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/@geoman-io/leaflet-geoman-free@latest/dist/leaflet-geoman.css" /> -->
  <!-- <script src="https://unpkg.com/@geoman-io/leaflet-geoman-free@latest/dist/leaflet-geoman.min.js"></script> -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="shortcut icon" href="http://www.iconj.com/ico/f/x/fxlgnbqmnc.ico" type="image/x-icon" />
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

  <style>
      
    #myModal{
        font-family:monospace;
        position: absolute;
        width: 100%;
        height: 100%;
        
        /* transform: translate(-50%, -50%); */
    }
    .modal-dialog{
        width: 60%;
        /* height: 500px; */
    }
    .modal-content{
        width: auto;
        height: auto;
        /* top:5%; */
        
        justify-content: center;
        align-items: center;
        margin: 0 auto; 
        /* overflow-y: auto; */
    }
    #mds{
        top: 10%;
    }
    #confirmation-content{
        /* position: absolute; */
        font-family: monospace;
        border: 0px;
        width: 50%;
        height: auto;
        /* top:55%; */
        /* margin: 15px; */

        justify-content: center;
        align-items: center;
        margin: 0 auto; 
        /* overflow-y: auto; */
    }
    #mds_head{
        border: none;
    }
    #mds_foot{
        border: none;
    }
    .img_button{
        height: 100%;
        width: 100%;
        margin: 0px;
        /* display: none; */
    }
    img[src=""] {
        display: none;
    }
    .modal-header{
        font-weight: bold;
        height: auto;
        /* border: 1px solid cyan; */
        font-size: 30px;
        margin: 5px;
        overflow: hidden;
    }
    .modal-body{
        height: auto;
        margin: 5px;
        /* border: 1px solid cyan; */
        font-size: 25px;
        overflow: hidden;
        
    }
    .imgModal{
        /* border: 1px solid cyan; */
        /* max-width:40%; */
        /* min-width: 40%; */
        /* width: 100%; */
        margin: 5px;
        box-shadow: 0px 2px 3px rgba(0,0,0,.13) ,1px 2px 2px rgba(0,0,0,.1) , -1px -2px 2px rgba(0,0,0,.05) ;
        
        /* margin-right: 5px; */
        /* height: 100%; */
    }
    .imgInModal{
        /* border: 2px solid black; */
        height: auto;
        object-fit: cover;
        width:100%;
        /* margin: 5px; */
        /*width:300px;*/
        /*height: 200px;*/
        overflow: hidden;
    }
    .txct{
        display: flex;
        height: auto;
        font-size: 20px;
        /* border: 1px solid cyan; */
        margin: 5px;
        white-space: pre-line;
    }
    .txct span{
        /* border: 1px solid cyan; */
        /* margin: 5px; */
        margin: 5px;
        overflow-y: auto;
        white-space: pre-line;
    }
    .headerMain{ 
      background-color: #e73332;
      height: 10%; 
      width: 100%; 

      /*text-align: center;*/
      font-family: monospace;
      color: #1780ba;
      /*vertical-align: middle; */
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .headerMain>p {
        
      font-size: 50px;
    }
    .headerDown{ 
      background-color:  #1780ba;
      height: 10%; 
      width: 100%; 

      font-family: monospace;
      color: #e73332;

      display: flex;
      justify-content: center;
      align-items: center;
    }
    .headerDown>p {
      font-size: 50px;
    }
    #newsWrapper{
        /* border: 1px solid black; */
        text-align: left;
        overflow-y:scroll;
    }
    #newsBlock p{
        /* border: 1px solid black; */
        text-align: left;
        /* margin: 5px; */
    }
    .news{ 
        display: flex;
        flex-direction: column;
        align-self:center;
        height: 80%; 
        width: 100%; 
        font-family: monospace;
        /*background-color: #0add00;*/
        font-size: 50px;
        margin: 0 auto;
        overflow:hidden; 
        overflow-y:scroll;
        display: flex;
        /* justify-content: center; */
        align-items: center;
        /*padding:5px;*/
    }
    .btn_add{
        font-family: monospace;
        font-weight: bold;
        /* font-size: 25px; */
        font-size: 1vw;
        width:10%;
        height: 5%;
        border-radius: 15px 15px 0px 0px;
        border:none;
        background: #1780ba;
        position: absolute;
        bottom: 10%;
        right: 5%;
        outline:none;
        /* box-shadow: 0px 2px 3px rgba(0,0,0,.13) ,1px 2px 2px rgba(0,0,0,.1) , -1px -2px 2px rgba(0,0,0,.05) ; */
        text-shadow: 1px 4px 3px rgba(0,0,0,0.3);
        cursor: pointer;
        overflow: hidden;
    }
    .btn_add:active{
        transform: translateY(5px);
    }
    .news::-webkit-scrollbar {
        /* This is the magic bit for WebKit */
        display: none;
    }
    .newItem{
        /* border: 1px solid black; */
        

        width:50%;
        margin: 15px;
        font-size: 20px;
        /*max-height: 250px;*/
        flex-wrap: wrap;
        box-shadow: 0px 2px 3px rgba(0,0,0,.13) ,1px 2px 2px rgba(0,0,0,.1) , -1px -2px 2px rgba(0,0,0,.05) ;
        cursor: pointer;
        /* overflow: hidden; */
        /* min-height: 200px; */
        /* max-height: 200px; */
        /* overflow: hidden; */
    }
    .newItem:hover .content{
        display: block;
    } 
    .itemHeader{
        /* border: 1px solid cyan; */
        /*font-size: 25px;*/
        font-weight: bold;
        	
        text-shadow: 1px 4px 3px rgba(0,0,0,0.3);
        /* overflow: hidden; */
        /* padding:5px; */
        max-height: auto;
        overflow: hidden;
        margin: 5px;
        display: flex;
        flex: 1;
        flex-direction: column;
        cursor: pointer;
        /* text-shadow: 1px 1px 2px black ; */
    }
    .itemHeaderContent{
        margin: 5px;
        font-size: 25px;
        /* border: 1px solid blue; */
        overflow: hidden;
    }
    .content_wrapper{
        /*height: 90%;*/
        /* border: 1px solid blue; */
        display: flex;
        /*flex-wrap: wrap;*/
        padding:5px;
        height: 250px;
        margin: 5px;
        flex:1;
        /*overflow:hidden;*/
        /*padding:5px;*/
        /*flex-direction: column;*/
    }
    .text_info{
        /* border: 1px solid red; */
        display: flex;
        flex: 1;
        flex-direction: column;
        margin-left: 5px;
        overflow: hidden;

        /*height: 200px;*/
        /*text-overflow: ellipsis;*/
        /*overflow: hidden;*/
    }
    .imgNew{
        /*flex: 0 0 100%;*/
        display: flex;
        flex-direction: row;
        /*max-width:25%;*/
        /*width:300px;*/
        /*height: 200px;*/
        max-width:40%;
        min-width: 40%;
        height: 100%;
        box-shadow: 0px 2px 3px rgba(0,0,0,.13) ,1px 2px 2px rgba(0,0,0,.1) , -1px -2px 2px rgba(0,0,0,.05) ;

    }
    .imgNew img{
        object-fit: cover;
        width:100%;
        /*width:300px;*/
        /*height: 200px;*/
        overflow: hidden;
    }
    .titleShort{
        /* border: 1px solid green; */
        height: auto;
        /* min-height: 20%; */
        /* max-height: 50%; */
        overflow: visible;
        /* text-overflow: ellipsis; */
        /* white-space: nowrap; */
        margin: 5px;
    }
    .titleShort:hover{
      /*border: 1px solid red;*/
      /*min-height: 20%;*/
      height: auto;
       overflow: visible;
      white-space: normal;
    }
    .content{
        /*border: 1px solid green;*/
        /* max-height: 50%; */
        height: auto;
        /* border: 1px solid grey; */
        /* overflow: hidden; */
        /* text-overflow: ellipsis; */
        margin: 5px;
        margin-top: 0px;
        font-size: 15px;
        font-style: italic;
        display: none;
        /* display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical; */
    }
    .contentIn{
        font-size: 10px;
        /* word-wrap: break-word;   */
        min-width: 0;
        /* text-overflow: ellipsis; */
        /* overflow: hidden; */
    }
    #mdAdd{
        font-family: monospace;
        
    }
    .newsAdder{
        border-radius: 10px;
        margin:10px;
        max-width:100%;
        border:none
    }
    .newsAdder textarea{
        /* margin:10px; */
        box-shadow: inset 0px 0px 3px rgba(0,0,0,0.5); ;
        outline: none;
    }
    .newsAdderAll, textarea{
        /* border: 3px solid red; */
        white-space: nowrap;
        resize: none;
        padding: 10px;
        max-width:100%;
        border-radius: 5px;
        width:100%;
        box-shadow: inset 0px 0px 3px rgba(0,0,0,0.5); 
        border: none;
    }
    .cool{
        border-radius: 5px;
        margin:10px;
        width: 100px;
        height: 100px;
        background-color:#e6ffed;
        box-shadow:inset 0px 0px 3px rgba(0,0,0,0.5); 
        position: relative;
        /* display: inline-block; */
    }
    .cool span{
        /* position: absolute;     */
        text-align: center;
        /* left: 0; */
        /* top: 0; */
        /* height: 100%; */
        /* width: 100%; */
        /* display: inline-block; */
    }
    .cool img{
        border-radius: 10%;
        padding: 5px;
        left: 0;
        top: 0;
        position: absolute;    
        text-align: center;
        /* height: 100%; */
        /* width: 100%; */
        /* display: inline-block; */
    }

    .newsAdderText{
        box-shadow:inset 0px 0px 3px rgba(0,0,0,0.5); ;
        border-radius: 5px;
        margin: 10px;
        padding: 10px;
        max-width:100%;
        min-height: 50px;
        /* border:none; */
        outline:none;
        
    }
    [contenteditable] { background:white }
    [data-placeholder]:empty:before{
        content: attr(data-placeholder);
    }
    #loading_reel{
        color:black;
        position:absolute;
        width: 10%;
        height: 10%;
        vertical-align: middle;

    }
    .spinner {
        border: 1px solid;
        position: fixed;
        width: 5%;
        height: 5%;
        display: none;
        border:none;
        z-index:4 !important;
        filter: invert(27%) sepia(51%) saturate(2878%) hue-rotate(36deg) brightness(104%) contrast(97%);
        
        /* margin: auto; */
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 50 50'%3E%3Cpath d='M28.43 6.378C18.27 4.586 8.58 11.37 6.788 21.533c-1.791 10.161 4.994 19.851 15.155 21.643l.707-4.006C14.7 37.768 9.392 30.189 10.794 22.24c1.401-7.95 8.981-13.258 16.93-11.856l.707-4.006z'%3E%3CanimateTransform attributeType='xml' attributeName='transform' type='rotate' from='0 25 25' to='360 25 25' dur='0.6s' repeatCount='indefinite'/%3E%3C/path%3E%3C/svg%3E") center / 50px no-repeat;
    }
    .loading_wheel{
        /* border: 1px solid black; */
        width: 50px;
        height: 50px;
        margin: auto;
    }
    .labelReady{
        text-align: center;
        margin:auto;
        max-width:100%;
        border:none
    }


    /* .newsAdderText textarea{
        outline: none;
        resize: both;
    } */
  </style>
</head>
<body>
    <!-- <label class="file-upload-container" for="file-upload">
        <input id="file-upload" type="file" style="display:none;">
        Select an Image
    </label> -->
    
    <div class= "container" style="height: 100%; width: 100%;  margin:0px; padding: 0px;">
        
        <div class="headerMain"><p>НОВОСТИ</p></div>
        <div id="newsWrapper">
            <div id="newsBlock" class="news"><p>Читайте наши новости:</p></div>
            
            <input id="file-input" type="file" name="name" style="display: none;" accept="image/gif, image/jpeg, image/png, image/jpeg"/>
            <button id="file-upload" type="button" class="btn_add" type="file" onclick = "ikylshaAdd()">Добавить новость</button>
        </div>
        
        <div class="headerDown"><p>ИНСТИТУТА</p></div>
        
    </div>
    

    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog" >
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <div class="modal-title">Modal Header</div>
            </div>
            <div class="modal-body"><p>Some text in the modal.</p></div>
            <div class="imgModal"><img class = "imgInModal" src="" ></div>
            <div class="txct"><span>EEEEEEEEEEEE</span>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
            </div>
          </div>
        </div>
        </div>
    </div>

    <div class="modal fade" id="addNew" role="dialog">
        <div class="modal-dialog" id="mdAdd">
          <!-- Modal content-->
          <div class="modal-content" style="background:#f5fffc">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <div class="modal-title">Добавление новости</div>
            </div>
            <div class="newsAdder">
                <textarea id="headerTitle" maxlength="150" placeholder="Заголовок новости"></textarea>
            </div>
            <div class="newsAdder">
                <textarea id="shortDescription" maxlength="150" placeholder="Краткое описание"></textarea>
            </div>

            <button id="coolpic" type="button" class="btn btn-default cool" >
                <span>Картинка</span>
                <img class="img_button" src=""/>
            </button>
            
            <div id="allNewText" class="newsAdderText" contenteditable data-placeholder="Текст новости"></div>
                <!-- <textarea placeholder="Текст новости"></textarea> -->
            
            <!-- <input class="newsAdderAll" id="allDescription" placeholder="Текст новости" ><textarea placeholder="Текст новости"></textarea><br><br> -->
            <!-- <div class="imgModal"><img class = "imgInModal" src="" ></div> -->
            <div class="modal-footer">
                <button type="button" class="btn btn-default" onclick="confirmAdd()">Добавить</button>
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
            
          </div>
        </div>
        </div>
    </div>

    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="confirmation">
        <div class="modal-dialog modal-sm" id = "mds">
          <div class="modal-content" id = "confirmation-content">
            <div class="modal-header" id="mds_head">
                <button type="button" class="close" data-dismiss="modal" aria-label="Закрыть"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Сохранить изменения?</h4>
            </div>
            <div class="modal-footer"id="mds_foot">
                <div class='labelReady'>Новость загружена!</div>
                <div class="loading_wheel" id = "spinTire"><img class="loading_wheel"  src="https://www.drupal.org/files/issues/throbber_12.gif"/></div>
                <button type="button" class="btn btn-default" id="modal-btn-yes" onclick="addNewToBin()">Да</button>
                <button type="button" class="btn btn-primary" id="modal-btn-no" data-dismiss="modal">Нет</button>
            </div>
          </div>
        </div>
    </div>

    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="no_data">
        <div class="modal-dialog modal-sm" id = "mds">
          <div class="modal-content" id = "confirmation-content">

            <div class="modal-header" id="mds_head">
                
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="myModalLabel">Заполните все данные</h4>
            </div>
            <div class="modal-footer"id="mds_foot">
                <button type="button" class="btn btn-default" id="modal-btn-si" data-dismiss="modal">ОК</button>
            </div>
          </div>
        </div>
    </div>

    <!-- <div class="spinner-border" role="status" id="loading_reel">
        <span class="sr-only">Loading...</span>
    </div> -->
       
    

    
</body>
<script>
    let hdrTitle = ""
    let shortTitle = ""
    let allText = ""
    let img_source = ""
    let listConf = []
    let formdata = new FormData()

    var cloudinary_url = 'https://api.cloudinary.com/v1_1/kylsha/upload'
    var upload_preset = 'kylsha_uploader'
    var fu = document.getElementById('file-input')

    $("#spinTire").hide();
    $(".labelReady").hide();
    

    function screen(){
        var h = window.innerHeight
        var w = window.innerWidth
        var scale_factor = ((w*100)/h)|0
        if (scale_factor<80){
            $(".newItem").css('width', '90%')
            $("#file-upload").css('width', '30%')
            $("#file-upload").css('font-size', '2vw')
            $(".modal-dialog").css('width', '90%')
        }
        else{
            $(".newItem").css('width', '50%')
            $("#file-upload").css('width', '10%')
            $("#file-upload").css('font-size', '1vw')
            $(".modal-dialog").css('width', '60%')
        }
    }
    window.addEventListener("orientationchange", function() {
        screen()
    }, false);
    window.addEventListener("resize", function() {
        screen()
    }, false);
    
    function addNewToBin(){
        $("#spinTire").hide();
        $(".labelReady").hide();
        // console.log(listConf)
        $("#spinTire").show();
        $("#modal-btn-yes").hide()
        $("#modal-btn-no").hide()

        axios({
            url: cloudinary_url,
            method: 'POST',
            headers: {
                'Content-Type':'application/x-www-form-urlencoded'
            },
            data: formdata
        }).then(function(res){
            console.log(res.data.secure_url)
            $("#spinTire").hide();
            $(".labelReady").show()
            
            setTimeout(function(){
                // $('#confirmation').removeData();
                var modalHtml = $("#confirmation").html();
                $("#confirmation").html("");
                $("#confirmation").html(modalHtml);
                // $('#confirmation').modal('toggle'); 
                $('#confirmation').modal('hide');// or fade, css display however you'd like.
                $(".labelReady").hide()

                // var mainModal = $("#addNew").html();
                // $("#addNew").html("");
                // $("#addNew").html(mainModal);
                $('#addNew').modal('hide')
                data_ot = {
                    "header": $('#headerTitle').val(),
                    "content_short": $('#shortDescription').val(),
                    "content": $('#allNewText').text(),
                    "url_image": res.data.secure_url
                }
                data_json.unshift(data_ot)
                console.log(JSON.stringify(data_json))
                
                let reqUpd = new XMLHttpRequest();
                reqUpd.onreadystatechange = () => {
                if (reqUpd.readyState == XMLHttpRequest.DONE) {
                    console.log(reqUpd.responseText);
                }
                };
                reqUpd.open("PUT", "https://api.jsonbin.io/b/5f8569427243cd7e824ea3e0", true);
                reqUpd.setRequestHeader("Content-Type", "application/json");
                reqUpd.send(JSON.stringify(data_json));
                
            }, 2000);
            
        }).catch(function(err) {
            console.log(err)
        })
        
        
    }

    function confirmAdd() {
        // $("#mi-modal")
        // $('#myModal').css({backdrop: 'static', keyboard: false}) 
        hdrTitle = $('#headerTitle').val()
        shortTitle = $('#shortDescription').val()
        allText = $('#allNewText').text()
        img_source = $('.img_button').attr('src')
        listConf = [hdrTitle, shortTitle, allText, img_source]

        if(listConf.every(v => v != "")){
            $("#modal-btn-yes").show()
            $("#modal-btn-no").show()
            $("#confirmation").modal({backdrop: 'static', keyboard: false})
        }
        else{
            $("#no_data").modal({backdrop: 'static', keyboard: false})
        }
    }


    $(document).ready(function() {
        $("#headerTitle, #shortDescription").keypress(function(event) {
            if(event.which == '13') {
            return false;
            }
        });
        $("#headerTitle, #shortDescription").on('input propertychange', function(event) {
            var curval = this.value
            if(curval.length == 150){
                $(this).css("background", "#ffdede");
                return false
            }
            else{
                $(this).css("background", "white");
            }
        });
    });
    
    
    $('#coolpic').on('click', function() {
        $('#file-input').trigger('click');
    });
    
    fu.addEventListener('change', function(event){
        var file = event.target.files[0]
        var reader = new FileReader();
            reader.onload = function (e) {
                $('.img_button').attr('src', e.target.result);
            }
            // console.log(this.files.length>0)
            if(this.files.length>0){
                reader.readAsDataURL(this.files[0]);
                $('#img_button').attr('src', file.name)
            }
            else{
                $('#img_button').attr('src', "")
            }
    
    

        formdata = new FormData()
        formdata.append('file', file)
        formdata.append('upload_preset', upload_preset)

        console.log("---->", formdata)
    }
    )

    let req = new XMLHttpRequest();
    let data_json = new Array(0)
    
    
    req.onreadystatechange = () => {
    if (req.readyState == XMLHttpRequest.DONE) {
        var raw_json = req.responseText
        data_json = JSON.parse(raw_json)
        populateNews(data_json)
        screen()
        // console.log(data_json)
    }
    };
    

    req.open("GET", "https://api.jsonbin.io/b/5f8569427243cd7e824ea3e0/latest", true);
    // req.setRequestHeader("secret-key", "<SECRET_KEY>");
    req.send();
    
    function populateNews(list_news){
        var bre = document.createElement("br")
        var menuD = document.getElementById("newsBlock");
        for (var item in list_news) {
            itemData = list_news[item]
            var header = itemData['header']
            var content_short = itemData['content_short']
            var content = itemData['content']
            var url_image = itemData['url_image']

            // console.log(list_news[item])

            // whole eelement
            var newItem = document.createElement("span");
            newItem.className = 'newItem'

            // just a header
            var newItemHeader = document.createElement("label");
            newItemHeader.className = "itemHeader"
            newItemHeader.id = "nameHeader"
            // newItemHeader.innerHTML = header

            // header content 

            var header_content =  document.createElement("p");
            header_content.className = "itemHeaderContent"
            header_content.innerHTML = header

            // wrapper
            var wrapperTE = document.createElement("div");
            wrapperTE.className = "content_wrapper"

            // picture
            var pic = document.createElement("div")
            
            // pic.setAttribute("data-toggle", "modal")
            // pic.setAttribute("data-target","#myModal")

            var elemPic = document.createElement("img")
            elemPic.src = url_image
            // elemPic.className = "imgNew"
            pic.appendChild(elemPic)
            pic.className = "imgNew"

            // text info wrapper
            var text_info = document.createElement("div")
            // text_info.innerHTML = content_short
            text_info.className = 'text_info'

            // short title
            var title_short = document.createElement("div")
            title_short.innerHTML = content_short
            title_short.className = 'titleShort'

            // all content
            var content_all =  document.createElement("div")
            content_all.setAttribute("txt_data", content)
            content_all.innerHTML = "Нажмите на новость для прочтения..."
            content_all.className = 'content'

            // content_all.appendChild(innerContent)

            // title_short.appendChild(title_short_content)

            newItemHeader.appendChild(header_content)

            text_info.appendChild(title_short)
            text_info.appendChild(content_all)

            wrapperTE.appendChild(pic)
            wrapperTE.appendChild(text_info)
            
            newItem.appendChild(newItemHeader)
            newItem.appendChild(wrapperTE)
            newItem.onclick = ikylsha

            newsBlock.appendChild(newItem);  

        }
    }

    function ikylsha(text){
        // console.log(data_json)
        var attrs= this.children
        var itemName = attrs[0].innerText
        var content = attrs[1]

        var picsource = content.children[0].children[0].src
        var itemShorttext = content.children[1].children[0].innerText
        var itemAlltext = content.children[1].children[1].attributes.txt_data.value
        // console.log(attrs)
        // console.log(itemAlltext)
        

        $("#myModal").find('.modal-title').text(itemName)
        $("#myModal").find('.modal-body').text(itemShorttext)
        $("#myModal").find('.txct').text(itemAlltext)
        $("#myModal").find('.imgInModal').attr('src', picsource)

        $("#myModal").modal()
    }

    function ikylshaAdd(){
        // var mainModal = $("#addNew").html();
        // $("#addNew").html("");
        // $("#addNew").html(mainModal);
        $("#addNew").find('#headerTitle').val("")
        $("#addNew").find('#shortDescription').val("")
        $("#addNew").find('#allNewText').text("")
        $("#addNew").find('.img_button').attr('src', '')


        $("#addNew").modal()
    }


</script>
</html>
